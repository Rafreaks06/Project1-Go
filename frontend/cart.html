<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cart - Anto Frozen Food</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="/frontend/style.css" />
</head>

<body>
    <header class="header">
        <div class="header-content">
            <a href="#" class="logo">Anto Frozen Food</a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="/home" class="nav-link">HOME</a></li>
                    <li><a href="/shop" class="nav-link">SHOP</a></li>
                    <li><a href="/about" class="nav-link">ABOUT</a></li>
                    <li><a href="/contact" class="nav-link">CONTACT</a></li>
                    <li>
                        <div class="icon-container">
                            <button class="nav-link">
                                <i class="ri-user-line"></i>
                            </button>
                        </div>
                    </li>
                    <li>
                        <div class="icon-container">
                            <button class="nav-link active"><i class="ri-shopping-cart-line"></i><span
                                    class="cart-count">3</span></button>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="cart-section">
            <div class="container">
                <h2>Keranjang Belanja</h2>
                <div class="cart-items">

                    <!-- Item di Keranjang -->
                    <div class="cart-item">
                        <img src="/frontend/Img/GO-DimsumAyam.jpg" alt="Dimsum Ayam" />
                        <div class="item-details">
                            <h3>Dimsum Ayam</h3>
                            <p class="price">Rp 13.000</p>
                            <div class="quantity-control">
                                <button class="qty-btn minus">-</button>
                                <input type="number" class="qty-input" value="1" min="1" />
                                <button class="qty-btn plus">+</button>
                            </div>
                            <p class="subtotal">Subtotal: Rp 13.000</p>
                        </div>
                        <button class="remove-btn"><i class="ri-close-line"></i></button>
                    </div>

                    <div class="cart-item">
                        <img src="/frontend/Img/GO-NuggetStik.jpg" alt="Nugget Stik" />
                        <div class="item-details">
                            <h3>Nugget Stik</h3>
                            <p class="price">Rp 12.500</p>
                            <div class="quantity-control">
                                <button class="qty-btn minus">-</button>
                                <input type="number" class="qty-input" value="2" min="1" />
                                <button class="qty-btn plus">+</button>
                            </div>
                            <p class="subtotal">Subtotal: Rp 25.000</p>
                        </div>
                        <button class="remove-btn"><i class="ri-close-line"></i></button>
                    </div>

                </div>

                <div class="cart-summary">
                    <h3>Total Belanja</h3>
                    <p class="total-price">Rp 38.000</p>
                    <a href="/checkout" class="btn-checkout">Checkout</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <!-- (footer dari index.html sama persis) -->
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Anto Frozen Food. Hak Cipta Dilindungi.</p>
        </div>
    </footer>

    <script>
        const minusBtns = document.querySelectorAll('.minus');
        const plusBtns = document.querySelectorAll('.plus');
        const qtyInputs = document.querySelectorAll('.qty-input');
        const cartItems = document.querySelectorAll('.cart-item');

        function updateSubtotal(item) {
            const price = parseInt(item.querySelector('.price').innerText.replace(/\D/g, ''));
            const qty = parseInt(item.querySelector('.qty-input').value);
            const subtotal = price * qty;
            item.querySelector('.subtotal').innerText = `Subtotal: Rp ${subtotal.toLocaleString()}`;
            updateTotal();
        }

        function updateTotal() {
            let total = 0;
            document.querySelectorAll('.cart-item').forEach(item => {
                const price = parseInt(item.querySelector('.price').innerText.replace(/\D/g, ''));
                const qty = parseInt(item.querySelector('.qty-input').value);
                total += price * qty;
            });
            document.querySelector('.total-price').innerText = `Rp ${total.toLocaleString()}`;
        }

        plusBtns.forEach((btn, idx) => {
            btn.addEventListener('click', () => {
                const input = qtyInputs[idx];
                input.value = parseInt(input.value) + 1;
                updateSubtotal(cartItems[idx]);
            });
        });

        minusBtns.forEach((btn, idx) => {
            btn.addEventListener('click', () => {
                const input = qtyInputs[idx];
                if (parseInt(input.value) > 1) {
                    input.value = parseInt(input.value) - 1;
                    updateSubtotal(cartItems[idx]);
                }
            });
        });

        qtyInputs.forEach((input, idx) => {
            input.addEventListener('change', () => {
                if (input.value < 1) input.value = 1;
                updateSubtotal(cartItems[idx]);
            });
        });

        document.querySelectorAll('.remove-btn').forEach((btn, idx) => {
            btn.addEventListener('click', () => {
                cartItems[idx].remove();
                updateTotal();
            });
        });

        updateTotal();
    </script>
</body>

</html>
